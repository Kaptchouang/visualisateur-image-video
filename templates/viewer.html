<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>viewer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdn.pannellum.org/2.5/pannellum.css"/>
    <script type="text/javascript" src="https://cdn.pannellum.org/2.5/pannellum.js"></script>
    <link href="https://vjs.zencdn.net/7.1.0/video-js.css" rel="stylesheet"type="text/css">
    <script src="https://vjs.zencdn.net/7.1.0/video.js"></script>
    <script src="https://pannellum.org/js/videojs-pannellum-plugin.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.10.2/video.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/videojs-pannellum-plugin@0.1.0/dist/videojs-pannellum-plugin.js"></script>
    <style>
        #panorama {
            width: 100%;
           height: 600px;
        }
    </style>
</head>

<body>
    <nav>
        {% include "navbar.html" %}
    </nav>

    <main>
    {% include "uploader.html" %}

    {% if video_name %}

    <video id="panorama" class="video-js vjs-default-skin vjs-big-play-centered"
        controls preload="none" style="width:100%;height:400px;"
        poster="/images/video/jfk-poster.jpg" crossorigin="anonymous">
    
        <source src="{{url_for('static', filename='videos/' + video_name)}}" type="video/mp4"/>
        <p class="vjs-no-js">
            To view this video please enable JavaScript, and consider upgrading to
            a web browser that <a href="http://videojs.com/html5-video-support/"
            target="_blank">supports HTML5 video</a>
        </p>
    </video>

    <script>
    videojs('panorama', {
    plugins: {
        pannellum: {}
    }
    });
    </script>
 {% else  %}
 {% if imageUrl %}
 <div id="panorama"  data-image-url="{{ image_url }}"></div> 
    <script>
        
        const panoramaElement = document.getElementById('panorama');
        const imageUrl = "{{ imageUrl }}";
    
        alert(imageUrl)
        pannellum.viewer('panorama', {
            "type": "equirectangular",
            "panorama": "{{url_for('static', filename='img/' + imageUrl)}}" ,
            "autoLoad": true
        });
    </script>


    {% endif %}

    {% endif %}
            <!-- <input type="file" id="fileUpload" accept="image*,video*" onchange="gererMediaTeleversement()"> -->
            <div id="panocontainer">
            
            </div>
           
    </main>



    <script>
        videojs('panorama', {
            plugins: {
                pannellum: {
                    "autoLoad": true
                }
            }
        });
    </script>
<footer>
    <nav>
        <div class="table1">
            <ul>
                <li class="menu-tem">
                    <a href="temis.html">Temis ot privacy policy</a>
                </li>
                <li class="menu-sup">
                    <a href="support.html">Support</a>
                </li>
                <li class="menu-pub">
                    <a href="public.html">Publics yain coupon</a>
                </li>
                <li class="menu-cmr">
                    <a href="camertronix.html">(e) 2024 Camertronix</a>
                </li>
            </ul>
        </div>
    </nav>
</footer>

<script type="text/javascript" src="{{ url_for('static', filename='js/fichier.js') }}"></script> 


</body>
</html>